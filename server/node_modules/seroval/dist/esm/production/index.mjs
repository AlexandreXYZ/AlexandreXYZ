var K=(s=>(s[s.AggregateError=1]="AggregateError",s[s.ArrowFunction=2]="ArrowFunction",s[s.ErrorPrototypeStack=4]="ErrorPrototypeStack",s[s.ObjectAssign=8]="ObjectAssign",s[s.BigIntTypedArray=16]="BigIntTypedArray",s))(K||{});var b=Symbol.asyncIterator,lr=Symbol.hasInstance,P=Symbol.isConcatSpreadable,A=Symbol.iterator,ur=Symbol.match,cr=Symbol.matchAll,fr=Symbol.replace,Sr=Symbol.search,pr=Symbol.species,dr=Symbol.split,mr=Symbol.toPrimitive,x=Symbol.toStringTag,gr=Symbol.unscopables;var Zr={0:"Symbol.asyncIterator",1:"Symbol.hasInstance",2:"Symbol.isConcatSpreadable",3:"Symbol.iterator",4:"Symbol.match",5:"Symbol.matchAll",6:"Symbol.replace",7:"Symbol.search",8:"Symbol.species",9:"Symbol.split",10:"Symbol.toPrimitive",11:"Symbol.toStringTag",12:"Symbol.unscopables"},ge={[b]:0,[lr]:1,[P]:2,[A]:3,[ur]:4,[cr]:5,[fr]:6,[Sr]:7,[pr]:8,[dr]:9,[mr]:10,[x]:11,[gr]:12},Jr={0:b,1:lr,2:P,3:A,4:ur,5:cr,6:fr,7:Sr,8:pr,9:dr,10:mr,11:x,12:gr},Hr={2:"!0",3:"!1",1:"void 0",0:"null",4:"-0",5:"1/0",6:"-1/0",7:"0/0"},$r={2:!0,3:!1,1:void 0,0:null,4:-0,5:Number.POSITIVE_INFINITY,6:Number.NEGATIVE_INFINITY,7:Number.NaN};var ye={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},qr={0:Error,1:EvalError,2:RangeError,3:ReferenceError,4:SyntaxError,5:TypeError,6:URIError},o=void 0;function c(e,r,t,n,a,s,i,l,u,g,S,d){return{t:e,i:r,s:t,l:n,c:a,m:s,p:i,e:l,a:u,f:g,b:S,o:d}}function _(e){return c(2,o,e,o,o,o,o,o,o,o,o,o)}var Z=_(2),J=_(3),Ne=_(1),Ce=_(0),Xr=_(4),Qr=_(5),et=_(6),rt=_(7);function Qt(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return}}function y(e){let r="",t=0,n;for(let a=0,s=e.length;a<s;a++)n=Qt(e[a]),n&&(r+=e.slice(t,a)+n,t=a+1);return t===0?r=e:r+=e.slice(t),r}function en(e){switch(e){case"\\\\":return"\\";case'\\"':return'"';case"\\n":return`
`;case"\\r":return"\r";case"\\b":return"\b";case"\\t":return"	";case"\\f":return"\f";case"\\x3C":return"<";case"\\u2028":return"\u2028";case"\\u2029":return"\u2029";default:return e}}function z(e){return e.replace(/(\\\\|\\"|\\n|\\r|\\b|\\t|\\f|\\u2028|\\u2029|\\x3C)/g,en)}var B="__SEROVAL_REFS__",ie="$R",ve=`self.${ie}`;function rn(e){return e==null?`${ve}=${ve}||[]`:`(${ve}=${ve}||{})["${y(e)}"]=[]`}var yr=new Map,V=new Map;function tn(e,r){return yr.set(r,e),V.set(e,r),r}function Nr(e){return yr.has(e)}function nn(e){return V.has(e)}function tt(e){if(Nr(e))return yr.get(e);throw new be(e)}function nt(e){if(nn(e))return V.get(e);throw new Ae(e)}typeof globalThis!="undefined"?Object.defineProperty(globalThis,B,{value:V,configurable:!0,writable:!1,enumerable:!1}):typeof window!="undefined"?Object.defineProperty(window,B,{value:V,configurable:!0,writable:!1,enumerable:!1}):typeof self!="undefined"?Object.defineProperty(self,B,{value:V,configurable:!0,writable:!1,enumerable:!1}):typeof global!="undefined"&&Object.defineProperty(global,B,{value:V,configurable:!0,writable:!1,enumerable:!1});function Re(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function on(e){let r=ye[Re(e)];return e.name!==r?{name:e.name}:e.constructor.name!==r?{name:e.constructor.name}:{}}function H(e,r){let t=on(e),n=Object.getOwnPropertyNames(e);for(let a=0,s=n.length,i;a<s;a++)i=n[a],i!=="name"&&i!=="message"&&(i==="stack"?r&4&&(t=t||{},t[i]=e[i]):(t=t||{},t[i]=e[i]));return t}function Ie(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function Ee(e){switch(e){case Number.POSITIVE_INFINITY:return Qr;case Number.NEGATIVE_INFINITY:return et}return e!==e?rt:Object.is(e,-0)?Xr:c(0,o,e,o,o,o,o,o,o,o,o,o)}function $(e){return c(1,o,y(e),o,o,o,o,o,o,o,o,o)}function Pe(e){return c(3,o,""+e,o,o,o,o,o,o,o,o,o)}function at(e){return c(4,e,o,o,o,o,o,o,o,o,o,o)}function xe(e,r){let t=r.valueOf();return c(5,e,t!==t?"":r.toISOString(),o,o,o,o,o,o,o,o,o)}function Te(e,r){return c(6,e,o,o,y(r.source),r.flags,o,o,o,o,o,o)}function st(e,r){return c(17,e,ge[r],o,o,o,o,o,o,o,o,o)}function it(e,r){return c(18,e,y(tt(r)),o,o,o,o,o,o,o,o,o)}function le(e,r,t){return c(25,e,t,o,y(r),o,o,o,o,o,o,o)}function Oe(e,r,t){return c(9,e,o,r.length,o,o,o,o,t,o,o,Ie(r))}function he(e,r){return c(21,e,o,o,o,o,o,o,o,r,o,o)}function we(e,r,t){return c(15,e,o,r.length,r.constructor.name,o,o,o,o,t,r.byteOffset,o)}function ze(e,r,t){return c(16,e,o,r.length,r.constructor.name,o,o,o,o,t,r.byteOffset,o)}function ke(e,r,t){return c(20,e,o,r.byteLength,o,o,o,o,o,t,r.byteOffset,o)}function _e(e,r,t){return c(13,e,Re(r),o,o,y(r.message),t,o,o,o,o,o)}function De(e,r,t){return c(14,e,Re(r),o,o,y(r.message),t,o,o,o,o,o)}function Fe(e,r,t){return c(7,e,o,r,o,o,o,o,t,o,o,o)}function Be(e,r){return c(28,o,o,o,o,o,o,o,[e,r],o,o,o)}function Ve(e,r){return c(30,o,o,o,o,o,o,o,[e,r],o,o,o)}function Me(e,r,t){return c(31,e,o,o,o,o,o,o,t,r,o,o)}function je(e,r){return c(32,e,o,o,o,o,o,o,o,r,o,o)}function Ue(e,r){return c(33,e,o,o,o,o,o,o,o,r,o,o)}function Le(e,r){return c(34,e,o,o,o,o,o,o,o,r,o,o)}var{toString:Ja}=Object.prototype;var an={parsing:1,serialization:2,deserialization:3};function sn(e){return`Seroval Error (step: ${an[e]})`}var ln=(e,r)=>sn(e),ue=class extends Error{constructor(t,n){super(ln(t,n));this.cause=n}},h=class extends ue{constructor(r){super("parsing",r)}},Cr=class extends ue{constructor(r){super("serialization",r)}},Ye=class extends ue{constructor(r){super("deserialization",r)}};function M(e){return`Seroval Error (specific: ${e})`}var E=class extends Error{constructor(t){super(M(1));this.value=t}},k=class extends Error{constructor(r){super(M(2))}},q=class extends Error{constructor(r){super(M(3))}},D=class extends Error{constructor(r){super(M(4))}},be=class extends Error{constructor(t){super(M(5));this.value=t}},Ae=class extends Error{constructor(r){super(M(6))}},We=class extends Error{constructor(r){super(M(7))}};var j=class{constructor(r,t){this.value=r;this.replacement=t}};var X=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((r,t)=>{e.s=r,e.f=t}),e},un=(e,r)=>{e.s(r),e.p.s=1,e.p.v=r},cn=(e,r)=>{e.f(r),e.p.s=2,e.p.v=r},lt=X.toString(),ut=un.toString(),ct=cn.toString(),vr=()=>{let e=[],r=[],t=!0,n=!1,a=0,s=(u,g,S)=>{for(S=0;S<a;S++)r[S]&&r[S][g](u)},i=(u,g,S,d)=>{for(g=0,S=e.length;g<S;g++)d=e[g],!t&&g===S-1?u[n?"return":"throw"](d):u.next(d)},l=(u,g)=>(t&&(g=a++,r[g]=u),i(u),()=>{t&&(r[g]=r[a],r[a--]=void 0)});return{__SEROVAL_STREAM__:!0,on:u=>l(u),next:u=>{t&&(e.push(u),s(u,"next"))},throw:u=>{t&&(e.push(u),s(u,"throw"),t=!1,n=!1,r.length=0)},return:u=>{t&&(e.push(u),s(u,"return"),t=!1,n=!0,r.length=0)}}},ft=vr.toString(),br=e=>r=>()=>{let t=0,n={[e]:()=>n,next:()=>{if(t>r.d)return{done:!0,value:void 0};let a=t++,s=r.v[a];if(a===r.t)throw s;return{done:a===r.d,value:s}}};return n},St=br.toString(),Ar=(e,r)=>t=>()=>{let n=0,a=-1,s=!1,i=[],l=[],u=(S=0,d=l.length)=>{for(;S<d;S++)l[S].s({done:!0,value:void 0})};t.on({next:S=>{let d=l.shift();d&&d.s({done:!1,value:S}),i.push(S)},throw:S=>{let d=l.shift();d&&d.f(S),u(),a=i.length,s=!0,i.push(S)},return:S=>{let d=l.shift();d&&d.s({done:!0,value:S}),u(),a=i.length,i.push(S)}});let g={[e]:()=>g,next:()=>{if(a===-1){let W=n++;if(W>=i.length){let Gr=r();return l.push(Gr),Gr.p}return{done:!1,value:i[W]}}if(n>a)return{done:!0,value:void 0};let S=n++,d=i[S];if(S!==a)return{done:!1,value:d};if(s)throw d;return{done:!0,value:d}}};return g},pt=Ar.toString(),Rr=(e,r)=>{let t=atob(r),n=new Uint8Array(e);for(let a=0;a<e;a++)n[a]=t.charCodeAt(a);return n.buffer},dt=Rr.toString();var mt={},gt={};var yt={0:{},1:{},2:{},3:{},4:{},5:{}},Nt={0:"[]",1:lt,2:ut,3:ct,4:ft,5:dt};function Ke(e){return"__SEROVAL_STREAM__"in e}function Q(){return vr()}function Ge(e){let r=Q(),t=e[b]();async function n(){try{let a=await t.next();a.done?r.return(a.value):(r.next(a.value),await n())}catch(a){r.throw(a)}}return n().catch(()=>{}),r}var fn=Ar(b,X);function Ct(e){return fn(e)}function Ze(e){let r=[],t=-1,n=-1,a=e[A]();for(;;)try{let s=a.next();if(r.push(s.value),s.done){n=r.length-1;break}}catch(s){t=r.length,r.push(s)}return{v:r,t,d:n}}var Sn=br(A);function vt(e){return Sn(e)}async function Ir(e){try{return[1,await e]}catch(r){return[0,r]}}function ce(e,r){return{plugins:r.plugins,mode:e,marked:new Set,features:31^(r.disabledFeatures||0),refs:r.refs||new Map}}function fe(e,r){e.marked.add(r)}function Er(e,r){let t=e.refs.size;return e.refs.set(r,t),t}function Je(e,r){let t=e.refs.get(r);return t!=null?(fe(e,t),{type:1,value:at(t)}):{type:0,value:Er(e,r)}}function U(e,r){let t=Je(e,r);return t.type===1?t:Nr(r)?{type:2,value:it(t.value,r)}:t}function I(e,r){let t=U(e,r);if(t.type!==0)return t.value;if(r in ge)return st(t.value,r);throw new E(r)}function w(e,r){let t=Je(e,yt[r]);return t.type===1?t.value:c(26,t.value,r,o,o,o,o,o,o,o,o,o)}function He(e){let r=Je(e,mt);return r.type===1?r.value:c(27,r.value,o,o,o,o,o,o,o,I(e,A),o,o)}function $e(e){let r=Je(e,gt);return r.type===1?r.value:c(29,r.value,o,o,o,o,o,o,[w(e,1),I(e,b)],o,o,o)}function qe(e,r,t,n){return c(t?11:10,e,o,o,o,o,n,o,o,o,o,Ie(r))}function Xe(e,r,t,n,a){return c(8,r,o,o,o,o,o,{k:t,v:n,s:a},o,w(e,0),o,o)}function At(e,r,t){return c(22,r,t,o,o,o,o,o,o,w(e,1),o,o)}function Qe(e,r,t){let n=new Uint8Array(t),a=n.length,s="";for(let i=0;i<a;i++)s+=String.fromCharCode(n[i]);return c(19,r,y(btoa(s)),a,o,o,o,o,o,w(e,5),o,o)}function ee(e,r){return{base:ce(e,r),child:void 0}}var xr=class{constructor(r){this._p=r}parse(r){return N(this._p,r)}};async function mn(e,r){let t=[];for(let n=0,a=r.length;n<a;n++)n in r&&(t[n]=await N(e,r[n]));return t}async function gn(e,r,t){return Oe(r,t,await mn(e,t))}async function Tr(e,r){let t=Object.entries(r),n=[],a=[];for(let s=0,i=t.length;s<i;s++)n.push(y(t[s][0])),a.push(await N(e,t[s][1]));return A in r&&(n.push(I(e.base,A)),a.push(Be(He(e.base),await N(e,Ze(r))))),b in r&&(n.push(I(e.base,b)),a.push(Ve($e(e.base),await N(e,Ge(r))))),x in r&&(n.push(I(e.base,x)),a.push($(r[x]))),P in r&&(n.push(I(e.base,P)),a.push(r[P]?Z:J)),{k:n,v:a,s:n.length}}async function Pr(e,r,t,n){return qe(r,t,n,await Tr(e,t))}async function yn(e,r,t){return he(r,await N(e,t.valueOf()))}async function Nn(e,r,t){return we(r,t,await N(e,t.buffer))}async function Cn(e,r,t){return ze(r,t,await N(e,t.buffer))}async function vn(e,r,t){return ke(r,t,await N(e,t.buffer))}async function Rt(e,r,t){let n=H(t,e.base.features);return _e(r,t,n?await Tr(e,n):o)}async function bn(e,r,t){let n=H(t,e.base.features);return De(r,t,n?await Tr(e,n):o)}async function An(e,r,t){let n=[],a=[];for(let[s,i]of t.entries())n.push(await N(e,s)),a.push(await N(e,i));return Xe(e.base,r,n,a,t.size)}async function Rn(e,r,t){let n=[];for(let a of t.keys())n.push(await N(e,a));return Fe(r,t.size,n)}async function It(e,r,t){let n=e.base.plugins;if(n)for(let a=0,s=n.length;a<s;a++){let i=n[a];if(i.parse.async&&i.test(t))return e.child==null&&(e.child=new xr(e)),le(r,i.tag,await i.parse.async(t,e.child,{id:r}))}return o}async function In(e,r,t){let[n,a]=await Ir(t);return c(12,r,n,o,o,o,o,o,o,await N(e,a),o,o)}function En(e,r,t,n){let a=[],s=r.on({next:i=>{fe(this.base,e),N(this,i).then(l=>{a.push(je(e,l))},l=>{n(l),s()})},throw:i=>{fe(this.base,e),N(this,i).then(l=>{a.push(Ue(e,l)),t(a),s()},l=>{n(l),s()})},return:i=>{fe(this.base,e),N(this,i).then(l=>{a.push(Le(e,l)),t(a),s()},l=>{n(l),s()})}})}async function Pn(e,r,t){return Me(r,w(e.base,4),await new Promise(En.bind(e,r,t)))}async function xn(e,r,t){if(Array.isArray(t))return gn(e,r,t);if(Ke(t))return Pn(e,r,t);let n=t.constructor;if(n===j)return N(e,t.replacement);let a=await It(e,r,t);if(a)return a;switch(n){case Object:return Pr(e,r,t,!1);case o:return Pr(e,r,t,!0);case Date:return xe(r,t);case RegExp:return Te(r,t);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return Rt(e,r,t);case Number:case Boolean:case String:case BigInt:return yn(e,r,t);case ArrayBuffer:return Qe(e.base,r,t);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return Nn(e,r,t);case DataView:return vn(e,r,t);case Map:return An(e,r,t);case Set:return Rn(e,r,t);default:break}if(n===Promise||t instanceof Promise)return In(e,r,t);let s=e.base.features;if(s&16)switch(n){case BigInt64Array:case BigUint64Array:return Cn(e,r,t);default:break}if(s&1&&typeof AggregateError!="undefined"&&(n===AggregateError||t instanceof AggregateError))return bn(e,r,t);if(t instanceof Error)return Rt(e,r,t);if(A in t||b in t)return Pr(e,r,t,!!n);throw new E(t)}async function Tn(e,r){let t=U(e.base,r);if(t.type!==0)return t.value;let n=await It(e,t.value,r);if(n)return n;throw new E(r)}async function N(e,r){switch(typeof r){case"boolean":return r?Z:J;case"undefined":return Ne;case"string":return $(r);case"number":return Ee(r);case"bigint":return Pe(r);case"object":{if(r){let t=U(e.base,r);return t.type===0?await xn(e,t.value,r):t.value}return Ce}case"symbol":return I(e.base,r);case"function":return Tn(e,r);default:throw new E(r)}}async function re(e,r){try{return await N(e,r)}catch(t){throw t instanceof h?t:new h(t)}}var te=(t=>(t[t.Vanilla=1]="Vanilla",t[t.Cross=2]="Cross",t))(te||{});function _s(e){return e}function Et(e,r){for(let t=0,n=r.length;t<n;t++){let a=r[t];e.has(a)||(e.add(a),a.extends&&Et(e,a.extends))}}function v(e){if(e){let r=new Set;return Et(r,e),[...r]}}function Pt(e){switch(e){case"Int8Array":return Int8Array;case"Int16Array":return Int16Array;case"Int32Array":return Int32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":return Uint16Array;case"Uint32Array":return Uint32Array;case"Uint8ClampedArray":return Uint8ClampedArray;case"Float32Array":return Float32Array;case"Float64Array":return Float64Array;case"BigInt64Array":return BigInt64Array;case"BigUint64Array":return BigUint64Array;default:throw new We(e)}}function xt(e,r){switch(r){case 3:return Object.freeze(e);case 1:return Object.preventExtensions(e);case 2:return Object.seal(e);default:return e}}function Tt(e,r){return{mode:e,plugins:r.plugins,refs:r.refs||new Map}}function Ot(e){return{mode:1,base:Tt(1,e),child:void 0,state:{marked:new Set(e.markedRefs)}}}function ht(e){return{mode:2,base:Tt(2,e),child:void 0}}var Or=class{constructor(r){this._p=r}deserialize(r){return m(this._p,r)}};function On(e,r,t){return e.state.marked.has(r)&&e.base.refs.set(r,t),t}function hn(e,r,t){return e.base.refs.has(r)||e.base.refs.set(r,t),t}function C(e,r,t){return e.mode===1?On(e,r,t):hn(e,r,t)}function wn(e,r){return C(e,r.i,nt(z(r.s)))}function zn(e,r){let t=r.l,n=C(e,r.i,new Array(t)),a;for(let s=0;s<t;s++)a=r.a[s],a&&(n[s]=m(e,a));return xt(n,r.o),n}function wt(e,r,t){let n=r.s;if(n){let a=r.k,s=r.v;for(let i=0,l;i<n;i++)l=a[i],typeof l=="string"?t[z(l)]=m(e,s[i]):t[m(e,l)]=m(e,s[i])}return t}function kn(e,r){let t=C(e,r.i,r.t===10?{}:Object.create(null));return wt(e,r.p,t),xt(t,r.o),t}function _n(e,r){return C(e,r.i,new Date(r.s))}function Dn(e,r){return C(e,r.i,new RegExp(z(r.c),r.m))}function Fn(e,r){let t=C(e,r.i,new Set),n=r.a;for(let a=0,s=r.l;a<s;a++)t.add(m(e,n[a]));return t}function Bn(e,r){let t=C(e,r.i,new Map),n=r.e.k,a=r.e.v;for(let s=0,i=r.e.s;s<i;s++)t.set(m(e,n[s]),m(e,a[s]));return t}function Vn(e,r){return C(e,r.i,Rr(r.l,z(r.s)))}function Mn(e,r){let t=Pt(r.c),n=m(e,r.f);return C(e,r.i,new t(n,r.b,r.l))}function jn(e,r){let t=m(e,r.f);return C(e,r.i,new DataView(t,r.b,r.l))}function zt(e,r,t){if(r.p){let n=wt(e,r.p,{});Object.assign(t,n)}return t}function Un(e,r){let t=C(e,r.i,new AggregateError([],z(r.m)));return zt(e,r,t)}function Ln(e,r){let t=qr[r.s],n=C(e,r.i,new t(z(r.m)));return zt(e,r,n)}function Yn(e,r){let t=X(),n=C(e,r.i,t.p),a=m(e,r.f);return r.s?t.s(a):t.f(a),n}function Wn(e,r){return C(e,r.i,Object(m(e,r.f)))}function Kn(e,r){let t=e.base.plugins;if(t){let n=z(r.c);for(let a=0,s=t.length;a<s;a++){let i=t[a];if(i.tag===n)return e.child==null&&(e.child=new Or(e)),C(e,r.i,i.deserialize(r.s,e.child,{id:r.i}))}}throw new q(r.c)}function Gn(e,r){return C(e,r.i,C(e,r.s,X()).p)}function Zn(e,r){let t=e.base.refs.get(r.i);if(t){t.s(m(e,r.a[1]));return}throw new D("Promise")}function Jn(e,r){let t=e.base.refs.get(r.i);if(t){t.f(m(e,r.a[1]));return}throw new D("Promise")}function Hn(e,r){m(e,r.a[0]);let t=m(e,r.a[1]);return vt(t)}function $n(e,r){m(e,r.a[0]);let t=m(e,r.a[1]);return Ct(t)}function qn(e,r){let t=C(e,r.i,Q()),n=r.a.length;if(n)for(let a=0;a<n;a++)m(e,r.a[a]);return t}function Xn(e,r){let t=e.base.refs.get(r.i);if(t){t.next(m(e,r.f));return}throw new D("Stream")}function Qn(e,r){let t=e.base.refs.get(r.i);if(t){t.throw(m(e,r.f));return}throw new D("Stream")}function eo(e,r){let t=e.base.refs.get(r.i);if(t){t.return(m(e,r.f));return}throw new D("Stream")}function ro(e,r){m(e,r.f)}function to(e,r){m(e,r.a[1])}function m(e,r){switch(r.t){case 2:return $r[r.s];case 0:return r.s;case 1:return z(r.s);case 3:return BigInt(r.s);case 4:return e.base.refs.get(r.i);case 18:return wn(e,r);case 9:return zn(e,r);case 10:case 11:return kn(e,r);case 5:return _n(e,r);case 6:return Dn(e,r);case 7:return Fn(e,r);case 8:return Bn(e,r);case 19:return Vn(e,r);case 16:case 15:return Mn(e,r);case 20:return jn(e,r);case 14:return Un(e,r);case 13:return Ln(e,r);case 12:return Yn(e,r);case 17:return Jr[r.s];case 21:return Wn(e,r);case 25:return Kn(e,r);case 22:return Gn(e,r);case 23:return Zn(e,r);case 24:return Jn(e,r);case 28:return Hn(e,r);case 30:return $n(e,r);case 31:return qn(e,r);case 32:return Xn(e,r);case 33:return Qn(e,r);case 34:return eo(e,r);case 27:return ro(e,r);case 29:return to(e,r);default:throw new k(r)}}function er(e,r){try{return m(e,r)}catch(t){throw new Ye(t)}}var no=()=>T,oo=no.toString(),kt=/=>/.test(oo);function rr(e,r){return kt?(e.length===1?e[0]:"("+e.join(",")+")")+"=>"+(r.startsWith("{")?"("+r+")":r):"function("+e.join(",")+"){return "+r+"}"}function _t(e,r){return kt?(e.length===1?e[0]:"("+e.join(",")+")")+"=>{"+r+"}":"function("+e.join(",")+"){"+r+"}"}var Bt="hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_",Dt=Bt.length,Vt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_",Ft=Vt.length;function hr(e){let r=e%Dt,t=Bt[r];for(e=(e-r)/Dt;e>0;)r=e%Ft,t+=Vt[r],e=(e-r)/Ft;return t}var ao=/^[$A-Z_][0-9A-Z_$]*$/i;function wr(e){let r=e[0];return(r==="$"||r==="_"||r>="A"&&r<="Z"||r>="a"&&r<="z")&&ao.test(e)}function pe(e){switch(e.t){case 0:return e.s+"="+e.v;case 2:return e.s+".set("+e.k+","+e.v+")";case 1:return e.s+".add("+e.v+")";case 3:return e.s+".delete("+e.k+")"}}function so(e){let r=[],t=e[0];for(let n=1,a=e.length,s,i=t;n<a;n++)s=e[n],s.t===0&&s.v===i.v?t={t:0,s:s.s,k:o,v:pe(t)}:s.t===2&&s.s===i.s?t={t:2,s:pe(t),k:s.k,v:s.v}:s.t===1&&s.s===i.s?t={t:1,s:pe(t),k:o,v:s.v}:s.t===3&&s.s===i.s?t={t:3,s:pe(t),k:s.k,v:o}:(r.push(t),t=s),i=s;return r.push(t),r}function Wt(e){if(e.length){let r="",t=so(e);for(let n=0,a=t.length;n<a;n++)r+=pe(t[n])+",";return r}return o}var io="Object.create(null)",lo="new Set",uo="new Map",co="Promise.resolve",fo="Promise.reject",So={3:"Object.freeze",2:"Object.seal",1:"Object.preventExtensions",0:o};function Kt(e,r){return{mode:e,plugins:r.plugins,features:r.features,marked:new Set(r.markedRefs),stack:[],flags:[],assignments:[]}}function po(){return{valid:new Map,vars:[]}}function tr(e){return{mode:1,base:Kt(1,e),state:po(),child:void 0}}function nr(e){return{mode:2,base:Kt(2,e),state:e,child:void 0}}var zr=class{constructor(r){this._p=r}serialize(r){return f(this._p,r)}};function mo(e,r){let t=e.valid.get(r);t==null&&(t=e.valid.size,e.valid.set(r,t));let n=e.vars[t];return n==null&&(n=hr(t),e.vars[t]=n),n}function go(e){return ie+"["+e+"]"}function p(e,r){return e.mode===1?mo(e.state,r):go(r)}function O(e,r){e.marked.add(r)}function kr(e,r){return e.marked.has(r)}function Dr(e,r,t){r!==0&&(O(e.base,t),e.base.flags.push({type:r,value:p(e,t)}))}function yo(e){let r="";for(let t=0,n=e.flags,a=n.length;t<a;t++){let s=n[t];r+=So[s.type]+"("+s.value+"),"}return r}function Gt(e){let r=Wt(e.assignments),t=yo(e);return r?t?r+t:r:t}function Zt(e,r,t){e.assignments.push({t:0,s:r,k:o,v:t})}function No(e,r,t){e.base.assignments.push({t:1,s:p(e,r),k:o,v:t})}function Se(e,r,t,n){e.base.assignments.push({t:2,s:p(e,r),k:t,v:n})}function Mt(e,r,t){e.base.assignments.push({t:3,s:p(e,r),k:t,v:o})}function de(e,r,t,n){Zt(e.base,p(e,r)+"["+t+"]",n)}function _r(e,r,t,n){Zt(e.base,p(e,r)+"."+t,n)}function F(e,r){return r.t===4&&e.stack.includes(r.i)}function ne(e,r,t){return e.mode===1&&!kr(e.base,r)?t:p(e,r)+"="+t}function Co(e){return B+'.get("'+e.s+'")'}function jt(e,r,t,n){return t?F(e.base,t)?(O(e.base,r),de(e,r,n,p(e,t.i)),""):f(e,t):""}function vo(e,r){let t=r.i;if(r.l){e.base.stack.push(t);let n=r.a,a=jt(e,t,n[0],0),s=a==="";for(let i=1,l=r.l,u;i<l;i++)u=jt(e,t,n[i],i),a+=","+u,s=u==="";return e.base.stack.pop(),Dr(e,r.o,r.i),"["+a+(s?",]":"]")}return"[]"}function Ut(e,r,t,n){if(typeof t=="string"){let a=Number(t),s=a>=0&&a.toString()===t||wr(t);if(F(e.base,n)){let i=p(e,n.i);return O(e.base,r.i),s&&a!==a?_r(e,r.i,t,i):de(e,r.i,s?t:'"'+t+'"',i),""}return(s?t:'"'+t+'"')+":"+f(e,n)}return"["+f(e,t)+"]:"+f(e,n)}function Jt(e,r,t){let n=t.s;if(n){let a=t.k,s=t.v;e.base.stack.push(r.i);let i=Ut(e,r,a[0],s[0]);for(let l=1,u=i;l<n;l++)u=Ut(e,r,a[l],s[l]),i+=(u&&i&&",")+u;return e.base.stack.pop(),"{"+i+"}"}return"{}"}function bo(e,r){return Dr(e,r.o,r.i),Jt(e,r,r.p)}function Ao(e,r,t,n){let a=Jt(e,r,t);return a!=="{}"?"Object.assign("+n+","+a+")":n}function Ro(e,r,t,n,a){let s=e.base,i=f(e,a),l=Number(n),u=l>=0&&l.toString()===n||wr(n);if(F(s,a))u&&l!==l?_r(e,r.i,n,i):de(e,r.i,u?n:'"'+n+'"',i);else{let g=s.assignments;s.assignments=t,u&&l!==l?_r(e,r.i,n,i):de(e,r.i,u?n:'"'+n+'"',i),s.assignments=g}}function Io(e,r,t,n,a){if(typeof n=="string")Ro(e,r,t,n,a);else{let s=e.base,i=s.stack;s.stack=[];let l=f(e,a);s.stack=i;let u=s.assignments;s.assignments=t,de(e,r.i,f(e,n),l),s.assignments=u}}function Eo(e,r,t){let n=t.s;if(n){let a=[],s=t.k,i=t.v;e.base.stack.push(r.i);for(let l=0;l<n;l++)Io(e,r,a,s[l],i[l]);return e.base.stack.pop(),Wt(a)}return o}function Fr(e,r,t){if(r.p){let n=e.base;if(n.features&8)t=Ao(e,r,r.p,t);else{O(n,r.i);let a=Eo(e,r,r.p);if(a)return"("+ne(e,r.i,t)+","+a+p(e,r.i)+")"}}return t}function Po(e,r){return Dr(e,r.o,r.i),Fr(e,r,io)}function xo(e){return'new Date("'+e.s+'")'}function To(e){return"/"+e.c+"/"+e.m}function Lt(e,r,t){let n=e.base;return F(n,t)?(O(n,r),No(e,r,p(e,t.i)),""):f(e,t)}function Oo(e,r){let t=lo,n=r.l,a=r.i;if(n){let s=r.a;e.base.stack.push(a);let i=Lt(e,a,s[0]);for(let l=1,u=i;l<n;l++)u=Lt(e,a,s[l]),i+=(u&&i&&",")+u;e.base.stack.pop(),i&&(t+="(["+i+"])")}return t}function Yt(e,r,t,n,a){let s=e.base;if(F(s,t)){let i=p(e,t.i);if(O(s,r),F(s,n)){let u=p(e,n.i);return Se(e,r,i,u),""}if(n.t!==4&&n.i!=null&&kr(s,n.i)){let u="("+f(e,n)+",["+a+","+a+"])";return Se(e,r,i,p(e,n.i)),Mt(e,r,a),u}let l=s.stack;return s.stack=[],Se(e,r,i,f(e,n)),s.stack=l,""}if(F(s,n)){let i=p(e,n.i);if(O(s,r),t.t!==4&&t.i!=null&&kr(s,t.i)){let u="("+f(e,t)+",["+a+","+a+"])";return Se(e,r,p(e,t.i),i),Mt(e,r,a),u}let l=s.stack;return s.stack=[],Se(e,r,f(e,t),i),s.stack=l,""}return"["+f(e,t)+","+f(e,n)+"]"}function ho(e,r){let t=uo,n=r.e.s,a=r.i,s=r.f,i=p(e,s.i),l=e.base;if(n){let u=r.e.k,g=r.e.v;l.stack.push(a);let S=Yt(e,a,u[0],g[0],i);for(let d=1,W=S;d<n;d++)W=Yt(e,a,u[d],g[d],i),S+=(W&&S&&",")+W;l.stack.pop(),S&&(t+="(["+S+"])")}return s.t===26&&(O(l,s.i),t="("+f(e,s)+","+t+")"),t}function wo(e,r){return L(e,r.f)+"("+r.l+',"'+r.s+'")'}function zo(e,r){return"new "+r.c+"("+f(e,r.f)+","+r.b+","+r.l+")"}function ko(e,r){return"new DataView("+f(e,r.f)+","+r.b+","+r.l+")"}function _o(e,r){let t=r.i;e.base.stack.push(t);let n=Fr(e,r,'new AggregateError([],"'+r.m+'")');return e.base.stack.pop(),n}function Do(e,r){return Fr(e,r,"new "+ye[r.s]+'("'+r.m+'")')}function Fo(e,r){let t,n=r.f,a=r.i,s=r.s?co:fo,i=e.base;if(F(i,n)){let l=p(e,n.i);t=s+(r.s?"().then("+rr([],l)+")":"().catch("+_t([],"throw "+l)+")")}else{i.stack.push(a);let l=f(e,n);i.stack.pop(),t=s+"("+l+")"}return t}function Bo(e,r){return"Object("+f(e,r.f)+")"}function L(e,r){let t=f(e,r);return r.t===4?t:"("+t+")"}function Vo(e,r){if(e.mode===1)throw new k(r);return"("+ne(e,r.s,L(e,r.f)+"()")+").p"}function Mo(e,r){if(e.mode===1)throw new k(r);return L(e,r.a[0])+"("+p(e,r.i)+","+f(e,r.a[1])+")"}function jo(e,r){if(e.mode===1)throw new k(r);return L(e,r.a[0])+"("+p(e,r.i)+","+f(e,r.a[1])+")"}function Uo(e,r){let t=e.base.plugins;if(t)for(let n=0,a=t.length;n<a;n++){let s=t[n];if(s.tag===r.c)return e.child==null&&(e.child=new zr(e)),s.serialize(r.s,e.child,{id:r.i})}throw new q(r.c)}function Lo(e,r){let t="",n=!1;return r.f.t!==4&&(O(e.base,r.f.i),t="("+f(e,r.f)+",",n=!0),t+=ne(e,r.i,"("+St+")("+p(e,r.f.i)+")"),n&&(t+=")"),t}function Yo(e,r){return L(e,r.a[0])+"("+f(e,r.a[1])+")"}function Wo(e,r){let t=r.a[0],n=r.a[1],a=e.base,s="";t.t!==4&&(O(a,t.i),s+="("+f(e,t)),n.t!==4&&(O(a,n.i),s+=(s?",":"(")+f(e,n)),s&&(s+=",");let i=ne(e,r.i,"("+pt+")("+p(e,n.i)+","+p(e,t.i)+")");return s?s+i+")":i}function Ko(e,r){return L(e,r.a[0])+"("+f(e,r.a[1])+")"}function Go(e,r){let t=ne(e,r.i,L(e,r.f)+"()"),n=r.a.length;if(n){let a=f(e,r.a[0]);for(let s=1;s<n;s++)a+=","+f(e,r.a[s]);return"("+t+","+a+","+p(e,r.i)+")"}return t}function Zo(e,r){return p(e,r.i)+".next("+f(e,r.f)+")"}function Jo(e,r){return p(e,r.i)+".throw("+f(e,r.f)+")"}function Ho(e,r){return p(e,r.i)+".return("+f(e,r.f)+")"}function $o(e,r){switch(r.t){case 17:return Zr[r.s];case 18:return Co(r);case 9:return vo(e,r);case 10:return bo(e,r);case 11:return Po(e,r);case 5:return xo(r);case 6:return To(r);case 7:return Oo(e,r);case 8:return ho(e,r);case 19:return wo(e,r);case 16:case 15:return zo(e,r);case 20:return ko(e,r);case 14:return _o(e,r);case 13:return Do(e,r);case 12:return Fo(e,r);case 21:return Bo(e,r);case 22:return Vo(e,r);case 25:return Uo(e,r);case 26:return Nt[r.s];default:throw new k(r)}}function f(e,r){switch(r.t){case 2:return Hr[r.s];case 0:return""+r.s;case 1:return'"'+r.s+'"';case 3:return r.s+"n";case 4:return p(e,r.i);case 23:return Mo(e,r);case 24:return jo(e,r);case 27:return Lo(e,r);case 28:return Yo(e,r);case 29:return Wo(e,r);case 30:return Ko(e,r);case 31:return Go(e,r);case 32:return Zo(e,r);case 33:return Jo(e,r);case 34:return Ho(e,r);default:return ne(e,r.i,$o(e,r))}}function or(e,r){let t=f(e,r);if(r.i!=null&&e.state.vars.length){let n=Gt(e.base),a=t;if(n){let s=p(e,r.i);a=t+","+n+s,t.startsWith(s+"=")||(a=s+"="+a),a="("+a+")"}return"("+rr(e.state.vars,a)+")()"}return r.t===10?"("+t+")":t}function ar(e,r){let t=f(e,r),n=r.i;if(n==null)return t;let a=Gt(e.base),s=p(e,n),i=e.state.scopeId,l=i==null?"":ie,u=a?"("+t+","+a+s+")":t;if(l==="")return r.t===10&&!a?"("+u+")":u;let g=i==null?"()":"("+ie+'["'+y(i)+'"])';return"("+rr([l],u)+")"+g}function ae(e,r){return{type:1,base:ce(e,r),child:void 0}}var Vr=class{constructor(r){this._p=r}parse(r){return R(this._p,r)}},Mr=class{constructor(r){this._p=r}parse(r){return R(this._p,r)}parseWithError(r){return Y(this._p,r)}isAlive(){return this._p.state.alive}pushPendingState(){Wr(this._p)}popPendingState(){me(this._p)}onParse(r){oe(this._p,r)}onError(r){Lr(this._p,r)}};function qo(e){return{alive:!0,pending:0,initial:!0,buffer:[],onParse:e.onParse,onError:e.onError,onDone:e.onDone}}function jr(e){return{type:2,base:ce(2,e),child:void 0,state:qo(e)}}function Xo(e,r){let t=[];for(let n=0,a=r.length;n<a;n++)n in r&&(t[n]=R(e,r[n]));return t}function Qo(e,r,t){return Oe(r,t,Xo(e,t))}function Ur(e,r){let t=Object.entries(r),n=[],a=[];for(let s=0,i=t.length;s<i;s++)n.push(y(t[s][0])),a.push(R(e,t[s][1]));return A in r&&(n.push(I(e.base,A)),a.push(Be(He(e.base),R(e,Ze(r))))),b in r&&(n.push(I(e.base,b)),a.push(Ve($e(e.base),R(e,e.type===1?Q():Ge(r))))),x in r&&(n.push(I(e.base,x)),a.push($(r[x]))),P in r&&(n.push(I(e.base,P)),a.push(r[P]?Z:J)),{k:n,v:a,s:n.length}}function Br(e,r,t,n){return qe(r,t,n,Ur(e,t))}function ea(e,r,t){return he(r,R(e,t.valueOf()))}function ra(e,r,t){return we(r,t,R(e,t.buffer))}function ta(e,r,t){return ze(r,t,R(e,t.buffer))}function na(e,r,t){return ke(r,t,R(e,t.buffer))}function Ht(e,r,t){let n=H(t,e.base.features);return _e(r,t,n?Ur(e,n):o)}function oa(e,r,t){let n=H(t,e.base.features);return De(r,t,n?Ur(e,n):o)}function aa(e,r,t){let n=[],a=[];for(let[s,i]of t.entries())n.push(R(e,s)),a.push(R(e,i));return Xe(e.base,r,n,a,t.size)}function sa(e,r,t){let n=[];for(let a of t.keys())n.push(R(e,a));return Fe(r,t.size,n)}function ia(e,r,t){let n=Me(r,w(e.base,4),[]);return e.type===1||(Wr(e),t.on({next:a=>{if(e.state.alive){let s=Y(e,a);s&&oe(e,je(r,s))}},throw:a=>{if(e.state.alive){let s=Y(e,a);s&&oe(e,Ue(r,s))}me(e)},return:a=>{if(e.state.alive){let s=Y(e,a);s&&oe(e,Le(r,s))}me(e)}})),n}function la(e,r){if(this.state.alive){let t=Y(this,r);t&&oe(this,c(23,e,o,o,o,o,o,o,[w(this.base,2),t],o,o,o)),me(this)}}function ua(e,r){if(this.state.alive){let t=Y(this,r);t&&oe(this,c(24,e,o,o,o,o,o,o,[w(this.base,3),t],o,o,o))}me(this)}function ca(e,r,t){let n=Er(e.base,{});return e.type===2&&(Wr(e),t.then(la.bind(e,n),ua.bind(e,n))),At(e.base,r,n)}function fa(e,r,t,n){for(let a=0,s=n.length;a<s;a++){let i=n[a];if(i.parse.sync&&i.test(t))return e.child==null&&(e.child=new Vr(e)),le(r,i.tag,i.parse.sync(t,e.child,{id:r}))}}function Sa(e,r,t,n){for(let a=0,s=n.length;a<s;a++){let i=n[a];if(i.parse.stream&&i.test(t))return e.child==null&&(e.child=new Mr(e)),le(r,i.tag,i.parse.stream(t,e.child,{id:r}))}}function $t(e,r,t){let n=e.base.plugins;if(n)return e.type===1?fa(e,r,t,n):Sa(e,r,t,n)}function pa(e,r,t,n){switch(n){case Object:return Br(e,r,t,!1);case void 0:return Br(e,r,t,!0);case Date:return xe(r,t);case RegExp:return Te(r,t);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return Ht(e,r,t);case Number:case Boolean:case String:case BigInt:return ea(e,r,t);case ArrayBuffer:return Qe(e.base,r,t);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return ra(e,r,t);case DataView:return na(e,r,t);case Map:return aa(e,r,t);case Set:return sa(e,r,t);default:break}if(n===Promise||t instanceof Promise)return ca(e,r,t);let a=e.base.features;if(a&16)switch(n){case BigInt64Array:case BigUint64Array:return ta(e,r,t);default:break}if(a&1&&typeof AggregateError!="undefined"&&(n===AggregateError||t instanceof AggregateError))return oa(e,r,t);if(t instanceof Error)return Ht(e,r,t);if(A in t||b in t)return Br(e,r,t,!!n);throw new E(t)}function da(e,r,t){if(Array.isArray(t))return Qo(e,r,t);if(Ke(t))return ia(e,r,t);let n=t.constructor;if(n===j)return R(e,t.replacement);let a=$t(e,r,t);return a||pa(e,r,t,n)}function ma(e,r){let t=U(e.base,r);if(t.type!==0)return t.value;let n=$t(e,t.value,r);if(n)return n;throw new E(r)}function R(e,r){switch(typeof r){case"boolean":return r?Z:J;case"undefined":return Ne;case"string":return $(r);case"number":return Ee(r);case"bigint":return Pe(r);case"object":{if(r){let t=U(e.base,r);return t.type===0?da(e,t.value,r):t.value}return Ce}case"symbol":return I(e.base,r);case"function":return ma(e,r);default:throw new E(r)}}function se(e,r){try{return R(e,r)}catch(t){throw t instanceof h?t:new h(t)}}function oe(e,r){e.state.initial?e.state.buffer.push(r):Yr(e,r,!1)}function Lr(e,r){if(e.state.onError)e.state.onError(r);else throw r instanceof h?r:new h(r)}function qt(e){e.state.onDone&&e.state.onDone()}function Yr(e,r,t){try{e.state.onParse(r,t)}catch(n){Lr(e,n)}}function Wr(e){e.state.pending++}function me(e){--e.state.pending<=0&&qt(e)}function Y(e,r){try{return R(e,r)}catch(t){return Lr(e,t),o}}function Kr(e,r){let t=Y(e,r);t&&(Yr(e,t,!0),e.state.initial=!1,ga(e,e.state),e.state.pending<=0&&sr(e))}function ga(e,r){for(let t=0,n=r.buffer.length;t<n;t++)Yr(e,r.buffer[t],!1)}function sr(e){e.state.alive&&(qt(e),e.state.alive=!1)}function hi(e,r={}){let t=v(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=se(n,e),s=nr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return ar(s,a)}async function wi(e,r={}){let t=v(r.plugins),n=ee(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=await re(n,e),s=nr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return ar(s,a)}function zi(e,r={}){let t=v(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return se(n,e)}async function ki(e,r={}){let t=v(r.plugins),n=ee(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return await re(n,e)}function Xt(e,r){let t=v(r.plugins),n=jr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse(a,s){let i=nr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked}),l;try{l=ar(i,a)}catch(u){r.onError&&r.onError(u);return}r.onSerialize(l,s)},onError:r.onError,onDone:r.onDone});return Kr(n,e),sr.bind(null,n)}function _i(e,r){let t=v(r.plugins),n=jr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse:r.onParse,onError:r.onError,onDone:r.onDone});return Kr(n,e),sr.bind(null,n)}function Di(e,r){let t=v(r.plugins),n=ht({plugins:t,refs:r.refs});return er(n,e)}var ir=class{constructor(r){this.options=r;this.alive=!0;this.flushed=!1;this.done=!1;this.pending=0;this.cleanups=[];this.refs=new Map;this.keys=new Set;this.ids=0;this.plugins=v(r.plugins)}write(r,t){this.alive&&!this.flushed&&(this.pending++,this.keys.add(r),this.cleanups.push(Xt(t,{plugins:this.plugins,scopeId:this.options.scopeId,refs:this.refs,disabledFeatures:this.options.disabledFeatures,onError:this.options.onError,onSerialize:(n,a)=>{this.alive&&this.options.onData(a?this.options.globalIdentifier+'["'+y(r)+'"]='+n:n)},onDone:()=>{this.alive&&(this.pending--,this.pending<=0&&this.flushed&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}})))}getNextID(){for(;this.keys.has(""+this.ids);)this.ids++;return""+this.ids}push(r){let t=this.getNextID();return this.write(t,r),t}flush(){this.alive&&(this.flushed=!0,this.pending<=0&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}close(){if(this.alive){for(let r=0,t=this.cleanups.length;r<t;r++)this.cleanups[r]();!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0),this.alive=!1}}};function Gi(e,r={}){let t=v(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=se(n,e),s=tr({plugins:t,features:n.base.features,markedRefs:n.base.marked});return or(s,a)}async function Zi(e,r={}){let t=v(r.plugins),n=ee(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=await re(n,e),s=tr({plugins:t,features:n.base.features,markedRefs:n.base.marked});return or(s,a)}function Ji(e){return(0,eval)(e)}function Hi(e,r={}){let t=v(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:se(n,e),f:n.base.features,m:Array.from(n.base.marked)}}async function $i(e,r={}){let t=v(r.plugins),n=ee(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:await re(n,e),f:n.base.features,m:Array.from(n.base.marked)}}function qi(e,r={}){let t=v(r.plugins),n=tr({plugins:t,features:e.f,markedRefs:e.m});return or(n,e.t)}function Xi(e,r={}){let t=v(r.plugins),n=Ot({plugins:t,markedRefs:e.m});return er(n,e.t)}export{K as Feature,j as OpaqueReference,ir as Serializer,Ye as SerovalDeserializationError,ue as SerovalError,D as SerovalMissingInstanceError,q as SerovalMissingPluginError,be as SerovalMissingReferenceError,Ae as SerovalMissingReferenceForIdError,te as SerovalMode,h as SerovalParserError,Cr as SerovalSerializationError,We as SerovalUnknownTypedArrayError,k as SerovalUnsupportedNodeError,E as SerovalUnsupportedTypeError,qi as compileJSON,_s as createPlugin,tn as createReference,Q as createStream,hi as crossSerialize,wi as crossSerializeAsync,Xt as crossSerializeStream,Ji as deserialize,Di as fromCrossJSON,Xi as fromJSON,rn as getCrossReferenceHeader,v as resolvePlugins,Gi as serialize,Zi as serializeAsync,zi as toCrossJSON,ki as toCrossJSONAsync,_i as toCrossJSONStream,Hi as toJSON,$i as toJSONAsync};
